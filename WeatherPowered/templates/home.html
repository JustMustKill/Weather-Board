<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>WeatherPowered</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Comfortaa&display=swap" rel="stylesheet">

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
</head>
<body style="font-family: 'Comfortaa', cursive;background-image: linear-gradient(45deg, #cc208e 0%, #6713d2 100%); background-size: 100vw 100vh; background-attachment: scroll; background-repeat: no-repeat;">
<div class="row">
    <div style="margin-left: 5px" class="col-md-3"><a href=""><img src="https://i.ibb.co/cJD0KdM/Weather-Powered.png" width="205" height="50" class="rounded" alt="logo"></a></div>
</div>
<form action="{% url 'cityToday' %}">
    <nav class="navbar col-sm-3 " style="margin-left: 200px">
        <form class="form-inline">
            <input class="form-control mr-sm-2" type="text" placeholder="Поиск города" style="width: 325px" name="userInput" required pattern="^[A-Za-zА-Яа-яЁё\-]+$">
            <button class="btn btn-warning" type="submit">Поиск</button>
        </form>
    </nav>
</form>
<h1 style="margin-left: 200px; margin-top: 10px">Погода в {{ location }} сейчас</h1>
<div style="display: flex ;margin-left: 24% "><div class="date h3 container-sm-2"></div><span>&nbsp;</span><div style="margin-left: 15%"><div class="time display-1"></div></div></div>
<div style="margin-left: 5%" class="text-center"><h1 class="display-1">{{ temperature }}°С</h1>
    <img src="http://openweathermap.org/img/wn/{{ icon }}@2x.png" style="width: 150px">
    <h2 class="text-uppercase">{{ weather }}</h2>
</div>
<div class="container-sm-3 row" style="margin-left:19%">
    <div class="col"><h2>Ветер</h2></div>
    <div class="col"><h2>Влажность </h2></div>
    <div class="col"><h2>Давление</h2></div>
</div>
<div class="container-sm-3 row" style="margin-left:19%">
    <div class="col"><h2>{{ wind }}м/с</h2></div>
    <div style="margin-left: 75px" class="col"><h2>{{ humidity }}%</h2></div>
    <div class="col"><h2>{{ pressure }}мм рт. ст.</h2></div>
</div>

<script>
    const time= document.querySelector(".time")
    const date=document.querySelector(".date")
    function getDate() {
        let now = new Date()
        let seconds = now.getSeconds()
        let minutes = now.getMinutes()
        let hour = now.getHours()
        let day = now.getDate()
        let month = now.getMonth()+1
        let year = now.getFullYear()
        time.textContent = `${isZero(hour)?'0':''}${hour}:${isZero(minutes)?'0':''}${minutes}:${isZero(seconds)?'0':''}${seconds}`
        date.textContent = `${isZero(day)?'0':''}${day}.${isZero(month)?'0':''}${month}.${isZero(year)?'0':''}${year}`
        setTimeout(getDate,1000)
    }

    function isZero(number){
        return number<10 ? true: false;
    }
    getDate()
</script>

</body>
</html>

